{% extends "layout.html" %}
{% block title %}Quiz beendet{% endblock %}
{% block content %}

<div class="container mt-5">
  <div class="card shadow-sm p-4 text-center">
    <h2 class="mb-3">ðŸŽ‰ GlÃ¼ckwunsch, {{ current_user.username }}! ðŸŽ‰</h2>
    <p>Du hast das Quiz <strong>"{{ quiz_title }}"</strong> abgeschlossen.</p>
    <p class="fs-4">Du hast <strong class="text-success">{{ exp_earned }} EXP</strong> verdient!</p>

    <div class="mt-4 d-flex justify-content-center gap-3">
      <a href="{{ url_for('dashboard') }}" class="btn btn-primary">ZurÃ¼ck zum Dashboard</a>
      <a href="{{ url_for('leaderboard') }}" class="btn btn-outline-primary">Zur Rangliste</a>
    </div>
  </div>

  {% if results %}
  <div class="card mt-5 shadow-sm">
    <div class="card-header bg-light">
      <h4 class="mb-0"> Deine Antworten</h4>
    </div>
    <ul class="list-group list-group-flush">
      {% for r in results %}
      <li class="list-group-item">
        <p class="fw-bold mb-1">{{ r.question }}</p>
        <p class="mb-1">
          Deine Antwort:
          {% if r.is_correct %}
            <span class="badge bg-success">Richtig: {{ r.user_answer }}</span>
          {% else %}
            <span class="badge bg-danger">Falsch: {{ r.user_answer }}</span><br>
            <small class="text-muted">
              Richtige Antwort: <strong>{{ r.correct_answer }}</strong>
            </small>
          {% endif %}
        </p>
      </li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>

{% endblock %}
